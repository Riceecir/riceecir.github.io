{"version":3,"sources":["auth-provide/index.ts","plugins/request/index.ts","utils/index.ts","utils/custom-hook.ts","components/lib.tsx","context/auth-context.tsx","unauthenticated-app/login.tsx","unauthenticated-app/register.tsx","assets/logo.svg","assets/left.svg","assets/right.svg","unauthenticated-app/index.tsx","components/pin.tsx","utils/reorder.ts","utils/use-optimistic-option.ts","api/project.ts","utils/project.ts","screens/project-list/utils.ts","screens/project-list/list.tsx","components/id-select.tsx","screens/project-list/search-panel.tsx","api/user.ts","screens/project-list/index.tsx","assets/software-logo.svg","api/board.ts","api/task.ts","screens/board/util.ts","assets/bug.svg","assets/task.svg","screens/board/create-task.tsx","components/mark.tsx","components/drag-and-drop.tsx","screens/board/board-column.tsx","screens/board/search-panel.tsx","screens/board/create-board.tsx","screens/board/task-modal.tsx","screens/board/index.tsx","screens/epic/util.ts","screens/epic/create-epic.tsx","api/epic.ts","screens/epic/index.tsx","screens/project/index.tsx","screens/project-list/project-modal.tsx","components/project-popover.tsx","components/user-popover.tsx","authenticated-app/index.tsx","components/error-boundary.tsx","App.tsx","reportWebVitals.ts","context/index.tsx","index.tsx"],"names":["apiUrl","process","localStorageKey","handleUserResponse","token","user","window","localStorage","setItem","login","data","a","fetch","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","register","logout","removeItem","http","endpoint","customConfig","config","Authorization","toUpperCase","qs","status","auth","location","reload","message","useHttp","useAuth","useCallback","cleanObject","obj","result","Object","keys","forEach","key","val","undefined","includes","resetRoute","href","origin","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","timeout","setTimeout","clearTimeout","defaultInitialState","stat","error","defaultInitialConfig","throwOnError","useAsync","initialState","initialConfig","useReducer","state","action","safeDispatch","dispatch","mountedRef","useMountedRef","current","useSafeDispatch","retry","setRetry","setData","setError","run","promise","runConfig","Error","resolve","catch","isIdle","isLoading","isError","isSuccess","useDocumentTitle","title","keepOnUnmount","oldTitle","useRef","document","useUrlQueryParam","useSearchParams","searchParams","setSearchParams","useSetUrlQueryParam","stateKeys","useMemo","filtered","entries","fromEntries","filter","params","Row","styled","div","props","between","marginBottom","gap","FullPage","FullPageLoading","size","FullPageError","ErrorBox","Text","type","ButtonNoPadding","Button","ScreenContainer","bootstrapUser","getItem","AuthContext","React","createContext","AuthProvider","cb","children","setUser","queryClient","useQueryClient","Provider","form","clear","context","useContext","Login","onError","handleSubmit","values","onFinish","Item","name","rules","required","placeholder","id","Password","block","loading","disabled","htmlType","Register","cpassword","password","UnauthenticatedApp","isRegister","setIsRegister","handleError","Container","Background","ShadowCard","Title","onClick","cardWidth","h2","Header","logo","Card","left","right","Pin","checked","onCheckedChange","resetProps","count","onChange","num","reorder","fromId","referenceId","list","copiedList","movingItemIndex","findIndex","item","insertAfter","length","targetIndex","insertBefore","from","to","toItem","removedItem","splice","toIndex","indexOf","useConfig","queryKey","callback","onSuccess","invalidateQueries","onMutate","target","previousItems","getQueryData","setQueryData","old","newItem","ctx","useDeleteConfig","useEditConfig","map","useAddConfig","useProjects","param","useQuery","useEditProject","useMutation","useAddProject","useProject","enabled","useProjectModal","projectCreate","setProjectCreate","editProjectId","setEditProjectId","setUrlParams","Number","projectModalOpen","editingProject","open","close","edit","useProjectsSearchParams","setParam","personId","useProjectsQueryKey","List","users","refresh","mutate","pagination","columns","render","project","pin","pinProject","sorter","b","localeCompare","dataIndex","find","created","dayjs","format","More","deleteProject","useDeleteProject","overlay","danger","Modal","confirm","okText","cancelText","onOk","IdSelect","defaultOptionName","options","resetProp","toNumber","Option","isNaN","SearchPanel","style","layout","e","useUser","ProjectList","justify","dataSource","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","x","y","width","height","xlinkHref","SvgSoftwareLogo","_ref","svgRef","titleId","xmlns","xmlnsXlink","viewBox","ref","ForwardRef","useBoards","useReorderBoard","useReorderBoardConfig","useTasks","debounceParam","useTaskTypes","useReorderTask","client","kanbanId","toKanbanId","useReorderTaskConfig","useProjectIdInUrl","useLocation","pathname","match","useProjectInUrl","useBoardSearchParams","projectId","useBoardQueryKey","useTasksSearchParams","typeId","processorId","tagId","useTasksQueryKey","useTaskModal","editingTaskId","setEditingTaskId","useTask","editingTask","CreateTask","setName","addTask","useAddTask","mutateAsync","inputMode","setInputMode","submit","toggleMode","mode","autoFocus","onBlur","onPressEnter","Mark","str","keyword","arr","split","index","color","Drop","provided","isValidElement","cloneElement","droppableProps","innerRef","DropChild","forwardRef","Drag","dragHandleProps","draggableProps","TaskTypeIcon","taskTypes","taskType","src","taskIcon","bugIcon","alt","BoardColumn","board","allTasks","tasks","align","TaskContainer","direction","droppableId","String","minHeight","task","draggableId","TaskCard","cursor","deleteBoard","useDeleteBoard","CreateBoard","addBoard","useAddBoard","formItemLayout","labelCol","span","wrapperCol","TaskModal","Form","useForm","useEditTask","editTask","edieLoading","deleteTask","useDeleteTask","getFieldsValue","setFieldsValue","visible","forceRender","confirmLoading","onCancel","resetFields","initialValues","label","BoardScreen","currentProject","boards","boardIsLoading","taskIsLoading","dragEnd","useDragEnd","onDragEnd","ColumnsContaier","display","reorderBoard","reorderTask","destination","console","log","toId","formBoardId","toBoardId","formTask","toTask","fromKanbanId","useEpicsSearchParams","useEpicsQueryKey","CreateEpic","useAddEpic","addEpic","onClose","destroyOnClose","textAlign","EpicScreen","epics","useEpics","deleteEpic","useDeleteEpic","epicCreateOpen","setEpicCreateOpen","overflow","itemLayout","renderItem","epic","Meta","confirmDeleteEpic","description","start","end","epicId","ProjectScreen","route","units","useCurrentRoute","Aside","selectedKeys","Main","replace","path","element","ProjectModal","useMutateProject","mutateLoading","BtnFormItem","ProjectPopover","projects","refetch","Content","ContentContaier","placement","content","onVisibleChange","UserPopover","ContentContainer","AuthenticatedApp","PageHeader","HeaderLeft","HeaderRight","User","main","ErrorBoundary","fallbackRender","Component","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AppProvider","QueryClient","defaultOptions","queries","refetchOnWindowFocus","QueryClientProvider","loadServer","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29d2eb7c.chunk.js","sourcesContent":["import { User } from \"types/user\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\nconst localStorageKey = \"__auth_provide_token__\";\n\nexport const getToken = () => window.localStorage.getItem(localStorageKey);\n\nexport const setToken = (token: string) =>\n  window.localStorage.setItem(localStorageKey, token);\n\nexport const handleUserResponse = ({ user }: { user: User }) => {\n  setToken(user.token || \"\");\n  return user;\n};\n\n/* 登录 */\nexport const login = async (data: { username: string; password: string }) => {\n  return fetch(`${apiUrl}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    if (res.ok) {\n      return handleUserResponse(await res.json());\n    } else {\n      return Promise.reject(await res.json());\n    }\n  });\n};\n\n/* 注册 */\nexport const register = async (data: {\n  username: string;\n  password: string;\n}) => {\n  return fetch(`${apiUrl}/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (res) => {\n    if (res.ok) {\n      return handleUserResponse(await res.json());\n    } else {\n      return Promise.reject(await res.json());\n    }\n  });\n};\n\nexport const logout = async () =>\n  window.localStorage.removeItem(localStorageKey);\n","import * as qs from \"qs\";\r\nimport * as auth from \"auth-provide\";\r\nimport { useAuth } from \"context/auth-context\";\r\nimport { useCallback } from \"react\";\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\n/* extends: 继承类型 */\r\ninterface Config extends RequestInit {\r\n  data?: object;\r\n  token?: string;\r\n}\r\n\r\n/* http请求封装 */\r\nexport const http = async (\r\n  endpoint: string,\r\n  { data = {}, token = \"\", headers, ...customConfig }: Config = {}\r\n) => {\r\n  const config = {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: token ? `Bearer ${token}` : \"\",\r\n      \"Content-Type\": data ? \"application/json\" : \"\",\r\n    },\r\n    ...customConfig,\r\n  };\r\n\r\n  /* 判断 method 设置请求参数 */\r\n  if (config.method.toUpperCase() === \"GET\") {\r\n    endpoint += `?${qs.stringify(data)}`;\r\n  } else {\r\n    config.body = JSON.stringify(data);\r\n  }\r\n\r\n  return window.fetch(`${apiUrl}/${endpoint}`, config).then(async (res) => {\r\n    if (res.status === 401) {\r\n      await auth.logout();\r\n      window.location.reload();\r\n      return Promise.reject({ message: \"请重新登录!\" });\r\n    }\r\n\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      return data;\r\n    } else {\r\n      return Promise.reject(data);\r\n    }\r\n  });\r\n};\r\n\r\nexport const useHttp = () => {\r\n  const { user } = useAuth();\r\n\r\n  /* Parameters typeof：typescript操作符 */\r\n  return useCallback(\r\n    (...[endpoint, config]: Parameters<typeof http>) =>\r\n      http(endpoint, { ...config, token: user?.token }),\r\n    [user?.token]\r\n  );\r\n};\r\n\r\n// export const useHttp = (...[endpoint, config]: Parameters<typeof http>) => {\r\n//   const { user } = useAuth()\r\n\r\n//   /* Parameters typeof：typescript操作符 */\r\n//   return http(endpoint, { ...config, token: user?.token })\r\n// }\r\n","export const isFalsy = (val: unknown) => (val === 0 ? false : !val);\n\nexport const isVoid = (val: any) => [undefined, null, \"\"].includes(val);\n\n/* 清除无效值 */\nexport const cleanObject = (obj?: { [key: string]: unknown }) => {\n  if (!obj) return {};\n\n  const result = { ...obj };\n  Object.keys(result).forEach((key) => {\n    if (isVoid(result[key])) {\n      delete result[key];\n    }\n  });\n\n  return result;\n};\n\n/* 函数防抖 */\nconst debounce = (func: () => void, delay = 300) => {\n  let timeout: any;\n\n  return (...param: any) => {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(function () {\n      // @ts-ignore\n      typeof func === \"function\" && func(...param);\n    }, delay);\n  };\n};\n\nexport const resetRoute = () => (window.location.href = window.location.origin);\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useMemo,\n  useCallback,\n  useReducer,\n} from \"react\";\nimport { URLSearchParamsInit, useSearchParams } from \"react-router-dom\";\nimport { cleanObject } from \"utils\";\n\n/* 挂载 */\nexport const useMount = (cb: () => void) => {\n  useEffect(() => {\n    cb();\n  }, []);\n};\n\n/* 函数防抖 */\nexport const useDebounce = <V>(value: V, delay: number) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => setDebouncedValue(value), delay);\n    return () => clearTimeout(timeout);\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\n/*  */\nexport const useArray = <V>(initialArray: V[]) => {\n  const [array, setArray] = useState(initialArray);\n\n  return {\n    value: array,\n    setValue: setArray,\n    add: (val: V): void => {\n      setArray([...array, val]);\n    },\n    removeIndex: (index: number): void => {\n      const newArr = [...array];\n      newArr.splice(index, 1);\n      setArray(newArr);\n    },\n    clear: (): void => {\n      setArray([]);\n    },\n  };\n};\n\ninterface State<D> {\n  error: Error | null;\n  data: D | null;\n  stat: \"idle\" | \"loading\" | \"error\" | \"success\";\n}\nconst defaultInitialState: State<null> = {\n  stat: \"idle\",\n  data: null,\n  error: null,\n};\n/* @param }throwOnError：是否抛出错误 */\nconst defaultInitialConfig = {\n  throwOnError: false,\n};\nconst useSafeDispatch = <T>(dispatch: (...args: T[]) => void) => {\n  const mountedRef = useMountedRef();\n  return useCallback(\n    (...args: T[]) => (mountedRef.current ? dispatch(...args) : void 0),\n    [dispatch, mountedRef]\n  );\n};\n\n/* 异步请求 hook */\nexport const useAsync = <D>(\n  initialState?: State<D>,\n  initialConfig?: typeof defaultInitialConfig\n) => {\n  const config = { ...defaultInitialConfig, ...initialConfig };\n  const [state, dispatch] = useReducer(\n    (state: State<D>, action: Partial<State<D>>) => ({ ...state, ...action }),\n    {\n      ...defaultInitialState,\n      ...initialState,\n    }\n  );\n\n  const safeDispatch = useSafeDispatch(dispatch);\n  /* 提供重新获取数据func, 利用 useState 惰性初始化保存函数 */\n  const [retry, setRetry] = useState(() => () => {});\n\n  const setData = useCallback(\n    (data: D) =>\n      safeDispatch({\n        data,\n        stat: \"success\",\n        error: null,\n      }),\n    [safeDispatch]\n  );\n\n  const setError = useCallback(\n    (error: Error) =>\n      safeDispatch({\n        data: null,\n        stat: \"error\",\n        error,\n      }),\n    [safeDispatch]\n  );\n\n  /* runConfig.retry 传入 retry 时调用方法 */\n  const run = useCallback(\n    (\n      promise: Promise<D>,\n      runConfig?: {\n        retry: () => Promise<D>;\n      }\n    ) => {\n      if (!promise || !promise.then) {\n        throw new Error(\"请传入 Promise\");\n      }\n\n      setRetry(() => () => {\n        if (runConfig?.retry) {\n          run(runConfig.retry(), runConfig);\n        }\n      });\n\n      safeDispatch({ stat: \"loading\" });\n      return promise\n        .then((data) => {\n          setData(data);\n          return Promise.resolve(data);\n        })\n        .catch((error) => {\n          setError(error);\n          if (config.throwOnError) return Promise.reject(error);\n          return error;\n        });\n    },\n    [config.throwOnError, setData, setError, safeDispatch]\n  );\n\n  return {\n    isIdle: state.stat === \"idle\",\n    isLoading: state.stat === \"loading\",\n    isError: state.stat === \"error\",\n    isSuccess: state.stat === \"success\",\n    run,\n    retry,\n    setData,\n    setError,\n    ...state,\n  };\n};\n\n/** 修改页面标题\n * 加载时为旧title,\n * 加载后为新传入title\n * @param {boolean} keepOnUnmount: 卸载页面时, 是否丢弃当前title(立即刷新为新title)\n */\nexport const useDocumentTitle = (\n  title: string,\n  keepOnUnmount: boolean = true\n) => {\n  // 使用useRef, oldTitle就不会立即被刷新成新title\n  const oldTitle = useRef(document.title).current;\n\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  useEffect(() => {\n    return () => {\n      if (!keepOnUnmount) document.title = oldTitle;\n    };\n  }, [oldTitle, keepOnUnmount]);\n};\n\n/**\n * 读取url query\n * URLSearchParams API: https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams\n */\nexport const useUrlQueryParam = <K extends string>(keys: K[]) => {\n  const [searchParams] = useSearchParams();\n  const setSearchParams = useSetUrlQueryParam();\n  const [stateKeys] = useState(keys);\n\n  return [\n    useMemo(() => {\n      /**\n       * keys: [\"a\"]\n       * { a: \"1\", b: \"2\" } => [[\"a\", \"1\"], [\"b\", \"2\"]] => filtered from keys... => [[\"a\", \"1\"]] => { a: \"1\" }\n       */\n      const toArr = Object.entries(Object.fromEntries(searchParams));\n      const filtered = toArr.filter(([key]) => stateKeys.includes(key as K));\n\n      return Object.fromEntries(filtered);\n    }, [searchParams, stateKeys]),\n\n    (params: Partial<{ [key in K]: unknown }>) => setSearchParams(params),\n  ] as const;\n};\n\n/** 设置 url query */\nexport const useSetUrlQueryParam = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  return (params: { [key in string]: unknown }) => {\n    const obj = cleanObject({\n      ...Object.fromEntries(searchParams),\n      ...params,\n    }) as URLSearchParamsInit;\n    return setSearchParams(obj);\n  };\n};\n\n/**\n * 组件挂载状态\n */\nexport const useMountedRef = () => {\n  const mountedRef = useRef(false);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  });\n\n  return mountedRef;\n};\n\ntype undoState<T> = {\n  past: T[];\n  present: T;\n  future: T[];\n};\n\nconst UNDO = \"UNDO\";\nconst REDO = \"REDO\";\nconst SET = \"SET\";\nconst RESET = \"RESET\";\n\ntype Action<T> = {\n  newPresent?: T;\n  type: typeof UNDO | typeof REDO | typeof SET | typeof RESET;\n};\n\n/* 使用 useReducer 改造 useUndo */\nconst undoReducer = <T>(state: undoState<T>, action: Action<T>) => {\n  const { past, present, future } = state;\n  const { newPresent } = action;\n\n  switch (action.type) {\n    case UNDO: {\n      if (past.length === 0) return state;\n\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n\n      return {\n        past: newPast,\n        present: previous,\n        future: [present, ...future],\n      };\n    }\n    case REDO: {\n      if (future.length === 0) return state;\n\n      const next = future[0];\n      const newFuture = future.slice(1);\n\n      return {\n        past: [...past, present],\n        present: next,\n        future: newFuture,\n      };\n    }\n    case SET: {\n      if (newPresent === present) return state;\n      return {\n        past: [...past, newPresent],\n        present: newPresent,\n        future: [],\n      };\n    }\n    case RESET: {\n      return {\n        past: [],\n        present: newPresent,\n        future: [],\n      };\n    }\n  }\n};\n\n/* use undo hook */\nexport const useUndo = <T>(initialPresent: T) => {\n  /* const [past, setPast] = useState<T[]>([])\n  const [present, setPresent] = useState<T>(initialPresent)\n  const [future, setFuture] = useState<T[]>([]) */\n\n  /* 互相关联的 state 可以合并成一个 state */\n  /* const [state, setState] = useState({\n    past: [] as T[],\n    present: initialPresent as T,\n    future: [] as T[],\n  }); */\n\n  /* 使用 useReducer */\n  const [state, dispatch] = useReducer(undoReducer, {\n    past: [],\n    present: initialPresent,\n    future: [],\n  });\n\n  const canUndo = state.past.length > 0;\n  const canRedo = state.future.length > 0;\n\n  const undo = useCallback(() => dispatch({ type: UNDO }), []);\n\n  const redo = useCallback(() => dispatch({ type: REDO }), []);\n\n  const set = useCallback(\n    (newPresent: T) => dispatch({ type: SET, newPresent }),\n    []\n  );\n\n  const reset = useCallback(\n    (newPresent: T) => dispatch({ type: RESET, newPresent }),\n    []\n  );\n\n  return [state, { undo, redo, set, reset, canUndo, canRedo }];\n};\n","import styled from \"@emotion/styled\";\nimport { Button, Spin, Typography } from \"antd\";\nimport { DevTools } from \"jira-dev-tool\";\n\n/**\n * @prop {} gap: 子元素是否设置 margin-right\n */\nexport const Row = styled.div<{\n  gap?: Number | boolean;\n  between?: boolean;\n  marginBottom?: Number;\n}>`\n  display: flex;\n  justify-content: ${(props) => (props.between ? \"space-between\" : undefined)};\n  align-items: center;\n  margin-bottom: ${(props) => props.marginBottom + \"rem\"};\n\n  & > * {\n    margin-top: 0;\n    margin-bottom: 0;\n    margin-right: ${(props) =>\n      typeof props.gap === \"number\"\n        ? props.gap + \"rem\"\n        : props.gap\n        ? \"2rem\"\n        : undefined};\n  }\n`;\n\n/**\n * 全屏加载动画\n */\nconst FullPage = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n`;\nexport const FullPageLoading = () => (\n  <FullPage>\n    <Spin size=\"large\" />\n  </FullPage>\n);\n\n/**\n * 全屏错误信息\n */\nexport const FullPageError = ({ error }: { error: Error | null }) => (\n  <FullPage>\n    <DevTools />\n    <ErrorBox error={error} />\n  </FullPage>\n);\n\n/**\n * 包含检测数据类型的错误信息组件\n */\n// 类型守卫:\nconst isError = (value: any): value is Error => value?.message;\nexport const ErrorBox = ({ error }: { error: unknown }) => {\n  if (isError(error))\n    return <Typography.Text type=\"danger\">{error?.message}</Typography.Text>;\n  return null;\n};\n\n/** 无padding <Button> */\nexport const ButtonNoPadding = styled(Button)`\n  padding: 0;\n`;\n\n/* 视图样式容器 */\nexport const ScreenContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 3.2rem;\n`;\n","import React, { ReactNode, useState } from \"react\";\nimport * as auth from \"auth-provide\";\nimport { User } from \"types/user\";\nimport { http } from \"plugins/request\";\nimport { useAsync, useMount } from \"utils/custom-hook\";\nimport { FullPageLoading, FullPageError } from \"components/lib\";\nimport { useQueryClient } from \"react-query\";\n\ninterface AuthForm {\n  username: string;\n  password: string;\n}\n\n/* 初始化用户数据 */\nconst bootstrapUser = async () => {\n  let user = null;\n  const token = auth.getToken();\n  if (token) {\n    const data = await http(\"me\", { token });\n    user = data.user;\n  }\n\n  return user;\n};\n\nconst AuthContext =\n  React.createContext<\n    | {\n        user: User | null;\n        login: (form: AuthForm) => Promise<void>;\n        register: (form: AuthForm) => Promise<void>;\n        logout: () => void;\n      }\n    | undefined\n  >(undefined);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const {\n    data: user,\n    error,\n    isLoading,\n    isIdle,\n    isError,\n    run,\n    setData: setUser,\n  } = useAsync<User | null>();\n\n  const queryClient = useQueryClient();\n\n  const login = (form: AuthForm) => auth.login(form).then(setUser);\n  const register = (form: AuthForm) => auth.register(form).then(setUser);\n  const logout = () =>\n    auth.logout().then(() => {\n      setUser(null);\n      queryClient.clear();\n    });\n\n  /* 首次加载设置default user */\n  useMount(() => {\n    run(bootstrapUser());\n  });\n\n  if (isIdle || isLoading) return <FullPageLoading />;\n\n  if (isError) {\n    return <FullPageError error={error} />;\n  }\n\n  return (\n    <AuthContext.Provider\n      children={children}\n      value={{ user, login, register, logout }}\n    />\n  );\n};\n\nexport const useAuth = () => {\n  const context = React.useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth必须在AuthProvider中使用\");\n  }\n\n  return context;\n};\n","import React from \"react\";\r\nimport { useAuth } from \"context/auth-context\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { useAsync } from \"utils/custom-hook\";\r\n\r\nexport const Login = ({ onError }: { onError: (error: Error) => void }) => {\r\n  const { login } = useAuth();\r\n  const { run, isLoading } = useAsync(undefined, { throwOnError: true });\r\n  const handleSubmit = async (values: {\r\n    username: string;\r\n    password: string;\r\n  }) => {\r\n    run(login(values)).catch(onError);\r\n  };\r\n  /* onFinish 根据 Form.Item 返回对应的 object */\r\n  return (\r\n    <Form onFinish={handleSubmit}>\r\n      <Form.Item\r\n        name=\"username\"\r\n        rules={[{ required: true, message: \"请输入用户名\" }]}\r\n      >\r\n        <Input placeholder=\"用户名\" id=\"username\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"password\"\r\n        rules={[{ required: true, message: \"请输入密码\" }]}\r\n      >\r\n        <Input.Password placeholder=\"密码\" id=\"password\" />\r\n      </Form.Item>\r\n\r\n      <Button\r\n        block\r\n        loading={isLoading}\r\n        disabled={isLoading}\r\n        htmlType=\"submit\"\r\n        type=\"primary\"\r\n      >\r\n        登录\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n","import { useAuth } from \"context/auth-context\";\r\nimport React from \"react\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { useAsync } from \"utils/custom-hook\";\r\n\r\nexport const Register = ({ onError }: { onError: (error: Error) => void }) => {\r\n  const { register } = useAuth();\r\n  const { run, isLoading } = useAsync(undefined, { throwOnError: true });\r\n  const handleSubmit = async ({\r\n    cpassword,\r\n    ...values\r\n  }: {\r\n    username: string;\r\n    password: string;\r\n    cpassword: string;\r\n  }) => {\r\n    if (cpassword !== values.password) {\r\n      return onError(new Error(\"请确认两次输入的密码相同!\"));\r\n    }\r\n    run(register(values)).catch(onError);\r\n  };\r\n\r\n  return (\r\n    <Form onFinish={handleSubmit}>\r\n      <Form.Item\r\n        name=\"username\"\r\n        rules={[{ required: true, message: \"请输入用户名\" }]}\r\n      >\r\n        <Input placeholder=\"用户名\" id=\"username\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"password\"\r\n        rules={[{ required: true, message: \"请输入密码\" }]}\r\n      >\r\n        <Input.Password placeholder=\"密码\" id=\"password\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item\r\n        name=\"cpassword\"\r\n        rules={[{ required: true, message: \"请确认密码\" }]}\r\n      >\r\n        <Input.Password placeholder=\"请确认密码\" id=\"cpassword\" />\r\n      </Form.Item>\r\n\r\n      <Button\r\n        block\r\n        loading={isLoading}\r\n        disabled={isLoading}\r\n        htmlType=\"submit\"\r\n        type=\"primary\"\r\n      >\r\n        注册\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.f1e17c9a.svg\";","export default __webpack_public_path__ + \"static/media/left.e74de3ec.svg\";","export default __webpack_public_path__ + \"static/media/right.890da620.svg\";","import { Login } from \"unauthenticated-app/login\";\r\nimport { Register } from \"unauthenticated-app/register\";\r\nimport React, { useState } from \"react\";\r\nimport { Card, Button, Divider, message } from \"antd\";\r\nimport styled from \"@emotion/styled\";\r\n/* logo and bgimg */\r\nimport logo from \"assets/logo.svg\";\r\nimport left from \"assets/left.svg\";\r\nimport right from \"assets/right.svg\";\r\nimport { useDocumentTitle } from \"utils/custom-hook\";\r\n\r\nexport const UnauthenticatedApp = () => {\r\n  useDocumentTitle(\"请登录/注册\");\r\n  const [isRegister, setIsRegister] = useState(true);\r\n  const handleError = (error: Error) => {\r\n    message.error(error.message);\r\n  };\r\n  return (\r\n    <Container>\r\n      <Header />\r\n      <Background />\r\n      <ShadowCard>\r\n        <Title>{isRegister ? \"请登录\" : \"请注册\"}</Title>\r\n        {isRegister ? (\r\n          <Login onError={handleError} />\r\n        ) : (\r\n          <Register onError={handleError} />\r\n        )}\r\n        <Divider />\r\n        <Button type=\"link\" onClick={() => setIsRegister(!isRegister)}>\r\n          {isRegister ? \"没有账号?注册新账号\" : \"已有账号?直接登录\"}\r\n        </Button>\r\n      </ShadowCard>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst cardWidth = \"40rem\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin-bottom: 2.4rem;\r\n  color: rgb(90, 108, 130);\r\n`;\r\n\r\nconst Header = styled.div`\r\n  padding: 8rem 0;\r\n  background: url(${logo}) no-repeat center;\r\n  background-size: 10rem;\r\n  width: 100%;\r\n`;\r\nconst ShadowCard = styled(Card)`\r\n  width: ${cardWidth};\r\n  min-height: 56rem;\r\n  padding: 3.2rem 4rem;\r\n  border-radius: 0.3rem;\r\n  box-sizing: border-box;\r\n  box-shadow: rgba(0, 0, 0, 0.3) 0 0 10px;\r\n  text-align: center;\r\n`;\r\n\r\n/* 两侧背景图 */\r\nconst Background = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  background-position: left bottom, right bottom;\r\n  background-size: calc((100vw - ${cardWidth}) / 2),\r\n    calc((100vw - ${cardWidth}) / 2), cover;\r\n  background-image: url(${left}), url(${right});\r\n`;\r\n","import React from \"react\";\nimport { Rate } from \"antd\";\n\ninterface PinProps extends React.ComponentProps<typeof Rate> {\n  checked: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nexport const Pin = (props: PinProps) => {\n  const { checked, onCheckedChange, ...resetProps } = props;\n\n  return (\n    <Rate\n      count={1}\n      value={checked ? 1 : 0}\n      onChange={(num) => onCheckedChange && onCheckedChange(!!num)}\n      {...resetProps}\n    />\n  );\n};\n","/**\n * 在本地对排序进行乐观更新\n * @param fromId 要排序的项目的id\n * @param type 'before' | 'after'\n * @param referenceId 参照id\n * @param list 要排序的列表, 比如tasks, kanbans\n */\nexport const reorder = ({\n  fromId,\n  type,\n  referenceId,\n  list,\n}: {\n  list: { id: number }[];\n  fromId: number;\n  type: \"after\" | \"before\";\n  referenceId: number;\n}) => {\n  const copiedList = [...list];\n  // 找到fromId对应项目的下标\n  const movingItemIndex = copiedList.findIndex((item) => item.id === fromId);\n  if (!referenceId) {\n    return insertAfter([...copiedList], movingItemIndex, copiedList.length - 1);\n  }\n  const targetIndex = copiedList.findIndex((item) => item.id === referenceId);\n  const insert = type === \"after\" ? insertAfter : insertBefore;\n  return insert([...copiedList], movingItemIndex, targetIndex);\n};\n\n/**\n * 在list中，把from放在to的前边\n * @param list\n * @param from\n * @param to\n */\nconst insertBefore = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex, 0, removedItem);\n  return list;\n};\n\n/**\n * 在list中，把from放在to的后面\n * @param list\n * @param from\n * @param to\n */\nconst insertAfter = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex + 1, 0, removedItem);\n  return list;\n};\n","import { useQueryClient, QueryKey } from \"react-query\";\nimport { Task } from \"types/task\";\nimport { reorder } from \"./reorder\";\n\n/* 乐观更新配置项 */\nexport const useConfig = (\n  queryKey: QueryKey,\n  callback: (target: any, old?: any[]) => any[]\n) => {\n  const queryClient = useQueryClient();\n  return {\n    onSuccess: () => queryClient.invalidateQueries(queryKey),\n    onMutate: async (target: any) => {\n      /* 获取缓存数据 */\n      const previousItems = queryClient.getQueryData(queryKey);\n      /* 设置修改后的数据 */\n      queryClient.setQueryData(queryKey, (old?: any[]) => {\n        return callback(target, old);\n      });\n\n      /* return 的值可以在 onError 第三个参数(context)取得 */\n      return { previousItems };\n    },\n    onError: (error: any, newItem: any, ctx: any) => {\n      queryClient.setQueryData(queryKey, ctx.previousItems);\n    },\n  };\n};\n\n/* delete：保留与target id 不同的值 */\nexport const useDeleteConfig = (queryKey: QueryKey) => {\n  return useConfig(queryKey, (target: any, old?: any[]) => {\n    return old?.filter((item) => item.id !== target.id) || [];\n  });\n};\n\n/* edit：覆盖id相同项 */\nexport const useEditConfig = (queryKey: QueryKey) => {\n  return useConfig(queryKey, (target: any, old?: any[]) => {\n    return (\n      old?.map((item) => {\n        if (item.id === target.id) return { ...item, ...target };\n        return item;\n      }) || []\n    );\n  });\n};\n\n/* add：添加项 */\nexport const useAddConfig = (queryKey: QueryKey) => {\n  return useConfig(queryKey, (target: any, old?: any[]) => {\n    return old ? [...old, target] : [];\n  });\n};\n\n/* reorder: 排序 */\nexport const useReorderConfig = (queryKey: QueryKey) => {\n  return useConfig(queryKey, (target: any, old?: any[]) => old || []);\n};\n\n/* 看板排序乐观更新 */\nexport const useReorderBoardConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => reorder({ list: old, ...target }));\n\n/* 任务排序 */\nexport const useReorderTaskConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => {\n    const orderedList = reorder({ list: old, ...target }) as Task[];\n    return orderedList.map((item) =>\n      item.id === target.fromId\n        ? { ...item, kanbanId: target.toKanbanId }\n        : item\n    );\n  });\n","import { useHttp } from \"plugins/request\";\nimport { cleanObject } from \"utils\";\nimport { useQuery, useMutation, QueryKey } from \"react-query\";\nimport {\n  useEditConfig,\n  useAddConfig,\n  useDeleteConfig,\n} from \"utils/use-optimistic-option\";\nimport { Project } from \"types/project\";\n\n/* project 列表 */\nexport const useProjects = (param?: Partial<Project>) => {\n  const http = useHttp();\n\n  return useQuery<Project[]>([\"projects\", cleanObject(param)], () =>\n    http(\"projects\", { data: param })\n  );\n  /* const { run, ...reslut } = useAsync<Project[]>();\n  const fetchProjects = useCallback(\n    () => http(\"projects\", { data: cleanObject(param || {}) }),\n    [http, param]\n  );\n\n  useEffect(() => {\n    run(fetchProjects(), { retry: fetchProjects });\n  }, [param, run, fetchProjects]);\n\n  return reslut; */\n};\n\n/* 更改项目信息 */\nexport const useEditProject = (queryKey: QueryKey) => {\n  const http = useHttp();\n\n  return useMutation(\n    (params: Partial<Project>) =>\n      http(`projects/${params.id}`, { data: params, method: \"PATCH\" }),\n    useEditConfig(queryKey)\n  );\n\n  /* const { run, ...asyncResult } = useAsync();\n  const mutate = (params: Partial<Project>) => {\n    return run(\n      http(`projects/${params.id}`, {\n        data: params,\n        method: \"PATCH\",\n      })\n    );\n  };\n\n  return {\n    mutate,\n    ...asyncResult,\n  }; */\n};\n\n/* 添加项目 */\nexport const useAddProject = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation((params: Partial<Project>) => {\n    return http(\"projects\", { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n  /* const { run, ...asyncResult } = useAsync();\n  const mutate = (params: Partial<Project>) => {\n    return run(\n      http(`/projects/${params.id}`, {\n        data: params,\n        method: \"POST\",\n      })\n    );\n  };\n\n  return {\n    mutate,\n    ...asyncResult,\n  }; */\n};\n\n/* 删除项目 */\nexport const useDeleteProject = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation(({ id }: { id: number }) => {\n    return http(`projects/${id}`, { method: \"DELETE\" });\n  }, useDeleteConfig(queryKey));\n};\n\n/* 查询project详情 */\nexport const useProject = (id?: number) => {\n  const http = useHttp();\n  return useQuery<Project>([\"project\", { id }], () => http(`projects/${id}`), {\n    enabled: !!id,\n  });\n};\n","import { useProject } from \"api/project\";\nimport { useSetUrlQueryParam, useUrlQueryParam } from \"./custom-hook\";\n\n/* Project state management */\nexport const useProjectModal = () => {\n  const [{ projectCreate }, setProjectCreate] = useUrlQueryParam([\n    \"projectCreate\",\n  ]);\n\n  const [{ editProjectId }, setEditProjectId] = useUrlQueryParam([\n    \"editProjectId\",\n  ]);\n\n  const setUrlParams = useSetUrlQueryParam();\n\n  const { data: editingProject, isLoading } = useProject(Number(editProjectId));\n\n  const open = () => setProjectCreate({ projectCreate: true });\n  const close = () => setUrlParams({ projectCreate: \"\", editProjectId: \"\" });\n  const edit = (id: number) => setEditProjectId({ editProjectId: id });\n\n  return {\n    projectModalOpen: projectCreate === \"true\" || !!editProjectId,\n    editingProject,\n    isLoading,\n    open,\n    close,\n    edit,\n  };\n};\n","import { useMemo } from \"react\";\nimport { useUrlQueryParam } from \"utils/custom-hook\";\n\nexport const useProjectsSearchParams = () => {\n  const [params, setParam] = useUrlQueryParam([\"name\", \"personId\"]);\n  return [\n    useMemo(\n      () => ({ ...params, personId: Number(params.personId) || undefined }),\n      [params]\n    ),\n    setParam,\n  ] as const;\n};\n\n/* 乐观更新 query key */\nexport const useProjectsQueryKey = () => {\n  const [searchParams] = useProjectsSearchParams();\n  return [\"projects\", searchParams];\n};\n","import React from \"react\";\nimport { Button, Dropdown, Menu, Table, TableProps, Modal } from \"antd\";\nimport { User } from \"types/user\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\nimport { Pin } from \"components/pin\";\nimport { useDeleteProject, useEditProject } from \"api/project\";\nimport { ButtonNoPadding } from \"components/lib\";\nimport { useProjectModal } from \"utils/project\";\nimport { useProjectsQueryKey } from \"./utils\";\nimport { Project } from \"types/project\";\n\ninterface ListProps extends TableProps<Project> {\n  users: User[];\n  refresh?: () => void;\n}\n\nexport const List = ({ users, refresh, ...props }: ListProps) => {\n  const { mutate } = useEditProject(useProjectsQueryKey());\n  const pinProject = (id: number, pin: boolean) => mutate({ id, pin });\n\n  return (\n    <Table\n      pagination={false}\n      columns={[\n        {\n          title: <Pin checked={true} disabled={true} />,\n          render(value, project) {\n            return (\n              <Pin\n                checked={project.pin}\n                onCheckedChange={(pin) => pinProject(project.id, pin)}\n              />\n            );\n          },\n        },\n        {\n          title: \"名称\",\n          key: \"name\",\n          sorter: (a, b) => a.name.localeCompare(b.name),\n          render(value, project) {\n            return <Link to={`${project.id}`}>{project.name}</Link>;\n          },\n        },\n        {\n          title: \"部门\",\n          key: \"organization\",\n          dataIndex: \"organization\",\n        },\n        {\n          title: \"负责人\",\n          key: \"personId\",\n          render(value, project) {\n            return (\n              <span>\n                {users.find((user) => user.id === project.personId)?.name ||\n                  \"未知\"}\n              </span>\n            );\n          },\n        },\n        {\n          title: \"创建时间\",\n          key: \"created\",\n          render(value, project) {\n            return (\n              <span>\n                {project.created\n                  ? dayjs(project.created).format(\"YYYY-MM-DD\")\n                  : \"无\"}\n              </span>\n            );\n          },\n        },\n        {\n          render(value, project) {\n            return <More project={project} />;\n          },\n        },\n      ]}\n      {...props}\n    />\n  );\n};\n\n/* 更多操作 */\nconst More = ({ project }: { project: Project }) => {\n  const { edit } = useProjectModal();\n  const { mutate: deleteProject } = useDeleteProject(useProjectsQueryKey());\n  const editProject = (id: number) => edit(id);\n\n  const confirmDelete = (id: number) => {\n    Modal.confirm({\n      title: `确认删除\"${project.name}\"这个项目吗?`,\n      okText: \"确认\",\n      cancelText: \"取消\",\n      onOk() {\n        deleteProject({ id });\n      },\n    });\n  };\n\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key={\"edit\"}>\n            <Button type={\"link\"} onClick={() => editProject(project.id)}>\n              编辑\n            </Button>\n          </Menu.Item>\n          <Menu.Item key={\"delete\"}>\n            <Button\n              type={\"link\"}\n              danger\n              onClick={() => confirmDelete(project.id)}\n            >\n              删除\n            </Button>\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <ButtonNoPadding type={\"link\"}>...</ButtonNoPadding>\n    </Dropdown>\n  );\n};\n","import React from \"react\";\nimport { Select } from \"antd\";\nimport { Raw } from \"types\";\n\n/** https://react-typescript-cheatsheet.netlify.app/docs/advanced/patterns_by_usecase/#componentprops */\ntype SelectProps = React.ComponentProps<typeof Select>;\n\ninterface IdSelectProps\n  extends Omit<\n    SelectProps,\n    \"value\" | \"onChange\" | \"defaultOptionName\" | \"options\"\n  > {\n  value?: Raw | null | undefined;\n  onChange?: (value?: number) => void;\n  defaultOptionName?: string;\n  options?: { name: string; id: number }[];\n}\n\n/**\n * value 可传入多种类型\n * onChange 只会回调 number | undefined\n * 当 Number(value) === NaN 时, 代表选择默认选项\n * 选择默认选项时，onChage 会回调 undefined\n */\nexport const IdSelect = (props: IdSelectProps) => {\n  const { value, onChange, defaultOptionName, options, ...resetProp } = props;\n  return (\n    <Select\n      value={options?.length ? toNumber(value) : 0}\n      onChange={(value) => onChange && onChange(toNumber(value) || undefined)}\n      {...resetProp}\n    >\n      {defaultOptionName ? (\n        <Select.Option value={0}>{defaultOptionName}</Select.Option>\n      ) : null}\n      {options &&\n        options.map(({ id, name }) => (\n          <Select.Option value={id} key={id}>\n            {name}\n          </Select.Option>\n        ))}\n    </Select>\n  );\n};\n\nconst toNumber = (value: unknown) => (isNaN(Number(value)) ? 0 : Number(value));\n","import React from \"react\";\nimport { Form, Input } from \"antd\";\nimport { IdSelect } from \"components/id-select\";\nimport { User } from \"types/user\";\nimport { Project } from \"types/project\";\n\ninterface SearchPanelProps {\n  users: User[];\n  param: Partial<Pick<Project, \"name\" | \"personId\">>;\n  setParam: (param: SearchPanelProps[\"param\"]) => void;\n}\n\nexport const SearchPanel = ({ param, setParam, users }: SearchPanelProps) => {\n  return (\n    <Form style={{ marginBottom: \"2rem\" }} layout=\"inline\">\n      <Form.Item>\n        <Input\n          type=\"text\"\n          value={param.name}\n          onChange={(e) =>\n            setParam({\n              ...param,\n              name: e.target.value,\n            })\n          }\n        />\n      </Form.Item>\n\n      <Form.Item>\n        <IdSelect\n          defaultOptionName={\"负责人\"}\n          options={users || []}\n          value={param.personId}\n          onChange={(value) =>\n            setParam({\n              ...param,\n              personId: value,\n            })\n          }\n        />\n      </Form.Item>\n    </Form>\n  );\n};\n","import { useHttp } from \"plugins/request\";\nimport { useAsync } from \"utils/custom-hook\";\nimport { useEffect } from \"react\";\nimport { cleanObject } from \"utils\";\nimport { useQuery } from \"react-query\";\nimport { User } from \"types/user\";\n\n/* 获取负责人列表 */\nexport const useUser = (param?: Partial<User>) => {\n  const http = useHttp();\n  return useQuery<User[]>([\"users\", cleanObject(param)], () =>\n    http(\"users\", { data: cleanObject(param) })\n  );\n  /* const { run, ...result } = useAsync<User[]>();\n\n  useEffect(() => {\n    run(http(\"users\", { data: cleanObject(param) }));\n  }, [param, http, run]);\n\n  return result; */\n};\n","import React from \"react\";\nimport { List } from \"./list\";\nimport { SearchPanel } from \"./search-panel\";\nimport { useDebounce, useDocumentTitle } from \"../../utils/custom-hook\";\nimport styled from \"@emotion/styled\";\nimport { useProjects } from \"api/project\";\nimport { Button, Row } from \"antd\";\nimport { useUser } from \"api/user\";\nimport { useProjectsSearchParams } from \"./utils\";\nimport { useProjectModal } from \"utils/project\";\nimport { ErrorBox, ScreenContainer } from \"components/lib\";\n\nexport const ProjectList = () => {\n  useDocumentTitle(\"项目列表\");\n  const { data: users } = useUser();\n  const [param, setParam] = useProjectsSearchParams();\n  const { open } = useProjectModal();\n\n  const {\n    isLoading,\n    error,\n    data: list,\n    // retry,\n  } = useProjects(useDebounce(param, 300));\n\n  return (\n    <ScreenContainer>\n      <Row justify={\"space-between\"}>\n        <h1>项目列表</h1>\n        <Button onClick={open}>创建项目</Button>\n      </Row>\n      <SearchPanel param={param} setParam={setParam} users={users || []} />\n      <ErrorBox error={error} />\n      <List\n        // refresh={retry}\n        loading={isLoading}\n        dataSource={list || []}\n        users={users || []}\n      />\n    </ScreenContainer>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"image\", {\n  id: \"logo_2x\",\n  \"data-name\": \"logo@2x\",\n  x: 5,\n  y: 1,\n  width: 118,\n  height: 107,\n  xlinkHref: \"data:img/png;base64,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\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"image\", {\n  id: \"software\",\n  x: 151,\n  y: 12,\n  width: 466,\n  height: 76,\n  xlinkHref: \"data:img/png;base64,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\"\n});\n\nfunction SvgSoftwareLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 632,\n    height: 108,\n    viewBox: \"0 0 632 108\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoftwareLogo);\nexport default __webpack_public_path__ + \"static/media/software-logo.d54d7b80.svg\";\nexport { ForwardRef as ReactComponent };","import { useHttp } from \"plugins/request\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { SortProps } from \"types\";\nimport { Board } from \"types/board\";\nimport { cleanObject } from \"utils\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useReorderBoardConfig,\n  useReorderConfig,\n} from \"utils/use-optimistic-option\";\n\n/* project 列表 */\nexport const useBoards = (param?: Partial<Board>) => {\n  const http = useHttp();\n\n  return useQuery<Board[]>([\"boards\", cleanObject(param)], () =>\n    http(\"kanbans\", { data: param })\n  );\n};\n\n/* 添加看板 */\nexport const useAddBoard = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation((params: Partial<Board>) => {\n    return http(\"kanbans\", { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\n\n/* 删除看板 */\nexport const useDeleteBoard = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation(({ id }: { id: number }) => {\n    return http(`kanbans/${id}`, { method: \"DELETE\" });\n  }, useDeleteConfig(queryKey));\n};\n\n/* 排序看板 */\nexport const useReorderBoard = (queryKey: QueryKey) => {\n  const http = useHttp();\n\n  return useMutation((params: SortProps) => {\n    return http(\"kanbans/reorder\", {\n      data: params,\n      method: \"POST\",\n    });\n  }, useReorderBoardConfig(queryKey));\n};\n","import { useHttp } from \"plugins/request\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { SortProps } from \"types\";\nimport { Task, TaskType } from \"types/task\";\nimport { cleanObject } from \"utils\";\nimport { useDebounce } from \"utils/custom-hook\";\nimport {\n  useAddConfig,\n  useDeleteConfig,\n  useEditConfig,\n  useReorderConfig,\n  useReorderTaskConfig,\n} from \"utils/use-optimistic-option\";\n\n/* task 列表 */\nexport const useTasks = (param?: Partial<Task>) => {\n  const http = useHttp();\n  const debounceParam = cleanObject({\n    ...param,\n    name: useDebounce(param?.name, 200),\n  });\n\n  return useQuery<Task[]>([\"tasks\", debounceParam], () =>\n    http(\"tasks\", { data: debounceParam })\n  );\n};\n\n/* get task detail */\nexport const useTask = (id: number) => {\n  const http = useHttp();\n  return useQuery<Task>([\"tasks\", { id }], () => http(`tasks/${id}`), {\n    enabled: !!id,\n  });\n};\n\n/* 添加 task */\nexport const useAddTask = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation((params: Partial<Task>) => {\n    return http(\"tasks\", { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\n\n/* 更改项目信息 */\nexport const useEditTask = (queryKey: QueryKey) => {\n  const http = useHttp();\n\n  return useMutation(\n    (params: Partial<Task>) =>\n      http(`tasks/${params.id}`, { data: params, method: \"PATCH\" }),\n    useEditConfig(queryKey)\n  );\n};\n\n/* 删除任务 */\nexport const useDeleteTask = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation(\n    ({ id }: { id: number }) => http(`tasks/${id}`, { method: \"DELETE\" }),\n    useDeleteConfig(queryKey)\n  );\n};\n\n/* task type列表 */\nexport const useTaskTypes = () => {\n  const http = useHttp();\n\n  return useQuery<TaskType[]>([\"taskTypes\"], () => http(\"taskTypes\"));\n};\n\n/* 排序 */\nexport const useReorderTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation((params: SortProps) => {\n    return client(\"tasks/reorder\", {\n      data: params,\n      method: \"POST\",\n    });\n  }, useReorderTaskConfig(queryKey));\n};\n","import { useProject } from \"api/project\";\nimport { useTask } from \"api/task\";\nimport { useCallback, useMemo } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { useUrlQueryParam } from \"utils/custom-hook\";\n\nexport const useProjectIdInUrl = () => {\n  const { pathname } = useLocation();\n  const id = pathname.match(/projects\\/(\\d+)/)?.[1];\n  return Number(id);\n};\n\n/* 根据 url id 获取 projects */\nexport const useProjectInUrl = () => useProject(useProjectIdInUrl());\n\nexport const useBoardSearchParams = () => {\n  return { projectId: useProjectIdInUrl() };\n};\n\n/* 传递给 react-query 的 query 参数 */\nexport const useBoardQueryKey = () => [\"boards\", useBoardSearchParams()];\n\n/* 根据 url id 获取 tasks, url query 和 params */\nexport const useTasksSearchParams = () => {\n  const [params] = useUrlQueryParam([\"name\", \"typeId\", \"processorId\", \"tagId\"]);\n  const projectId = useProjectIdInUrl();\n\n  return useMemo(() => {\n    return {\n      projectId,\n      name: params.name,\n      typeId: Number(params.typeId) || undefined,\n      processorId: Number(params.processorId) || undefined,\n      tagId: Number(params.tagId) || undefined,\n    };\n  }, [projectId, params]);\n};\n\n/* 传递给 react-query 的 query 参数 */\nexport const useTasksQueryKey = () => [\"tasks\", useTasksSearchParams()];\n\n/* task edit modal status */\nexport const useTaskModal = () => {\n  const [{ editingTaskId }, setEditingTaskId] = useUrlQueryParam([\n    \"editingTaskId\",\n  ]);\n  const { data: editingTask, isLoading } = useTask(Number(editingTaskId));\n  /* 开启编辑 */\n  const edit = useCallback(\n    (id: number) => {\n      setEditingTaskId({ editingTaskId: id });\n    },\n    [setEditingTaskId]\n  );\n  /* 关闭 */\n  const close = useCallback(() => {\n    setEditingTaskId({ editingTaskId: \"\" });\n  }, [setEditingTaskId]);\n\n  return {\n    editingTaskId,\n    editingTask,\n    isLoading,\n    close,\n    edit,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/bug.bc7dca9d.svg\";","export default __webpack_public_path__ + \"static/media/task.8118694e.svg\";","import React, { useState } from \"react\";\nimport { Button, Card, Input } from \"antd\";\nimport { useAddTask } from \"api/task\";\nimport { useProjectIdInUrl, useTasksQueryKey } from \"./util\";\n\nexport const CreateTask = ({ kanbanId }: { kanbanId: number }) => {\n  const [name, setName] = useState(\"\");\n  const { mutateAsync: addTask } = useAddTask(useTasksQueryKey());\n  const projectId = useProjectIdInUrl();\n  const [inputMode, setInputMode] = useState(false);\n\n  const submit = async () => {\n    await addTask({ projectId, name, kanbanId });\n    setInputMode(false);\n    setName(\"\");\n  };\n  /* 切换开关 */\n  const toggleMode = () => setInputMode((mode) => !mode);\n\n  if (!inputMode)\n    return (\n      <Button type={\"link\"} onClick={toggleMode}>\n        +创建任务\n      </Button>\n    );\n\n  return (\n    <Card>\n      <Input\n        value={name}\n        placeholder={\"请输入任务名称\"}\n        autoFocus\n        onBlur={toggleMode}\n        onPressEnter={submit}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </Card>\n  );\n};\n","import React from \"react\";\n\n/* 关键字高亮 */\nexport const Mark = ({ str, keyword }: { str: string; keyword: string }) => {\n  if (!keyword) return <>{str}</>;\n\n  const arr = str.split(keyword);\n  return (\n    <>\n      {arr.map((str, index) => {\n        return (\n          <span key={index}>\n            {str}\n            {index !== arr.length - 1 && (\n              <span style={{ color: \"red\" }}>{keyword}</span>\n            )}\n          </span>\n        );\n      })}\n    </>\n  );\n};\n","import React, { ReactNode } from \"react\";\nimport {\n  Droppable,\n  DroppableProps,\n  Draggable,\n  DraggableProps,\n  DroppableProvided,\n  DroppableProvidedProps,\n} from \"react-beautiful-dnd\";\n\n/* 可放置组件 */\ntype DropProps = Omit<DroppableProps, \"children\"> & { children: ReactNode };\nexport const Drop = ({ children, ...props }: DropProps) => {\n  return (\n    <Droppable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            provided,\n          });\n        }\n\n        return <div />;\n      }}\n    </Droppable>\n  );\n};\n\n/* 可放置组件子组件 */\ntype DropChildProps = Partial<\n  { provided: DroppableProvided } & DroppableProvidedProps\n> &\n  React.HTMLAttributes<HTMLDivElement>;\nexport const DropChild = React.forwardRef<HTMLDivElement, DropChildProps>(\n  ({ children, ...props }, ref) => {\n    return (\n      <div ref={ref} {...props}>\n        {children}\n        {props.provided?.placeholder}\n      </div>\n    );\n  }\n);\n\n/* 可拖拽组件 */\ntype DragProps = Omit<DraggableProps, \"children\"> & { children: ReactNode };\nexport const Drag = ({ children, ...props }: DragProps) => {\n  return (\n    <Draggable {...props}>\n      {(provided) => {\n        if (React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.dragHandleProps,\n            ...provided.draggableProps,\n            ref: provided.innerRef,\n          });\n        }\n\n        return <div />;\n      }}\n    </Draggable>\n  );\n};\n","import { useEditTask, useTasks, useTaskTypes } from \"api/task\";\nimport React from \"react\";\nimport { Board } from \"types/board\";\nimport { useBoardQueryKey, useTaskModal, useTasksSearchParams } from \"./util\";\nimport taskIcon from \"assets/bug.svg\";\nimport bugIcon from \"assets/task.svg\";\nimport styled from \"@emotion/styled\";\nimport { Button, Card, Dropdown, Menu, Modal, Row } from \"antd\";\nimport { CreateTask } from \"./create-task\";\nimport { Mark } from \"components/mark\";\nimport { Task } from \"types/task\";\nimport { useDeleteBoard } from \"api/board\";\nimport { Drag, Drop, DropChild } from \"components/drag-and-drop\";\n\nconst TaskTypeIcon = ({ id }: { id: number }) => {\n  const { data: taskTypes } = useTaskTypes();\n  const name = taskTypes?.find((taskType) => taskType.id === id)?.name;\n\n  if (!name) return null;\n  return <img src={name === \"task\" ? taskIcon : bugIcon} alt=\"\" />;\n};\n\nexport const BoardColumn = React.forwardRef<HTMLDivElement, { board: Board }>(\n  ({ board, ...props }, ref) => {\n    const { data: allTasks } = useTasks(useTasksSearchParams());\n    const tasks = allTasks?.filter((item) => item.kanbanId === board.id);\n\n    return (\n      <Container ref={ref} {...props}>\n        <Row align={\"middle\"} justify={\"space-between\"}>\n          <h3>{board.name}</h3>\n          <More board={board} />\n        </Row>\n        <TaskContainer>\n          <Drop\n            type={\"ROW\"}\n            direction={\"vertical\"}\n            droppableId={String(board.id)}\n          >\n            <DropChild style={{ minHeight: \".5rem\" }}>\n              {tasks?.map((task, index) => (\n                <Drag\n                  draggableId={\"task\" + task.id}\n                  key={task.id}\n                  index={index}\n                >\n                  <div>\n                    <TaskCard key={task.id} task={task} />\n                  </div>\n                </Drag>\n              ))}\n            </DropChild>\n          </Drop>\n          <CreateTask kanbanId={board.id} />\n        </TaskContainer>\n      </Container>\n    );\n  }\n);\n\nconst TaskCard = ({ task }: { task: Task }) => {\n  const { edit } = useTaskModal();\n  const { name } = useTasksSearchParams();\n  return (\n    <Card\n      key={task.id}\n      style={{ marginBottom: \".5rem\", cursor: \"pointer\" }}\n      onClick={() => edit(task.id)}\n    >\n      <Row align={\"middle\"}>\n        <Mark str={task.name} keyword={name}></Mark>\n        <TaskTypeIcon id={task.typeId} />\n      </Row>\n    </Card>\n  );\n};\n\n/* 更多功能小组件 */\nconst More = ({ board }: { board: Board }) => {\n  const { mutateAsync: deleteBoard } = useDeleteBoard(useBoardQueryKey());\n  const handleDelete = () => {\n    Modal.confirm({\n      okText: \"确认\",\n      cancelText: \"取消\",\n      title: `确定删除${board.name}看板吗?`,\n      onOk() {\n        return deleteBoard({ id: board.id });\n      },\n    });\n  };\n\n  const overlay = (\n    <Menu>\n      <Menu.Item key={\"delete\"}>\n        <Button type=\"link\" danger onClick={handleDelete}>\n          删除\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <Dropdown overlay={overlay}>\n      <Button type={\"link\"}>...</Button>\n    </Dropdown>\n  );\n};\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 27rem;\n  border-radius: 4px;\n  background-color: rgb(246, 245, 245);\n  padding: 0.6rem 0.6rem 1rem;\n  margin-right: 0.5rem;\n`;\n\nconst TaskContainer = styled.div`\n  overflow: auto;\n  flex: 1;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`;\n","import React from \"react\";\nimport { Row } from \"components/lib\";\nimport { useSetUrlQueryParam } from \"utils/custom-hook\";\nimport { useTasksSearchParams } from \"./util\";\nimport { Button, Input } from \"antd\";\nimport { IdSelect } from \"components/id-select\";\nimport { useUser } from \"api/user\";\nimport { useTaskTypes } from \"api/task\";\n\n/* 看板 - 任务筛选 */\nexport const SearchPanel = () => {\n  const { data: users } = useUser();\n  const { data: taskTypes } = useTaskTypes();\n  const searchParams = useTasksSearchParams();\n  const setSearchParams = useSetUrlQueryParam();\n\n  const reset = () => {\n    setSearchParams({\n      typeId: undefined,\n      processorId: undefined,\n      tagId: undefined,\n      name: undefined,\n    });\n  };\n\n  return (\n    <Row marginBottom={2} gap>\n      <Input\n        style={{ width: \"20rem\" }}\n        placeholder={\"任务名\"}\n        value={searchParams.name}\n        onChange={(e) => setSearchParams({ name: e.target.value })}\n      />\n\n      <IdSelect\n        defaultOptionName={\"经办人\"}\n        value={searchParams.processorId}\n        options={users || []}\n        onChange={(value) => setSearchParams({ processorId: value })}\n      />\n\n      <IdSelect\n        defaultOptionName={\"类型\"}\n        value={searchParams.typeId}\n        options={taskTypes || []}\n        onChange={(value) => setSearchParams({ typeId: value })}\n      />\n\n      <Button onClick={reset}>重置</Button>\n    </Row>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useBoardQueryKey, useProjectIdInUrl } from \"./util\";\nimport { Container } from \"screens/board/board-column\";\nimport { Input } from \"antd\";\nimport { useAddBoard } from \"api/board\";\n\n/* 创建看板 */\nexport const CreateBoard = React.forwardRef((props: any, ref: any) => {\n  const [name, setName] = useState(\"\");\n  const projectId = useProjectIdInUrl();\n  const { mutateAsync: addBoard } = useAddBoard(useBoardQueryKey());\n\n  const submit = async () => {\n    await addBoard({ name, projectId });\n    setName(\"\");\n  };\n\n  return (\n    <Container ref={ref}>\n      <Input\n        value={name}\n        placeholder={\"新建看板名称\"}\n        onPressEnter={submit}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </Container>\n  );\n});\n","import React, { useEffect } from \"react\";\nimport { Button, Form, Input, Modal, Row } from \"antd\";\nimport { useTaskModal, useTasksQueryKey } from \"./util\";\nimport { useDeleteTask, useEditTask, useTaskTypes } from \"api/task\";\nimport { IdSelect } from \"components/id-select\";\nimport { useUser } from \"api/user\";\n\nconst formItemLayout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 18 },\n};\n\nexport const TaskModal = () => {\n  const { data: users } = useUser();\n  const { data: taskTypes } = useTaskTypes();\n\n  const [form] = Form.useForm();\n  const { editingTask, editingTaskId, close } = useTaskModal();\n  const { mutateAsync: editTask, isLoading: edieLoading } = useEditTask(\n    useTasksQueryKey()\n  );\n  const { mutateAsync: deleteTask } = useDeleteTask(useTasksQueryKey());\n\n  const onClose = () => {\n    close();\n    form.resetFields();\n  };\n\n  const onOk = async () => {\n    await editTask({ ...editingTask, ...form.getFieldsValue() });\n    close();\n  };\n\n  const handleDelete = () => {\n    Modal.confirm({\n      okText: \"确认\",\n      cancelText: \"取消\",\n      title: `确定删除任务吗?`,\n      onOk() {\n        return deleteTask({ id: Number(editingTaskId) }).then(close);\n      },\n    });\n  };\n\n  useEffect(() => {\n    form.setFieldsValue(editingTask);\n  }, [form, editingTask]);\n\n  return (\n    <Modal\n      visible={!!editingTaskId}\n      title={\"编辑任务\"}\n      forceRender\n      okText={\"确定\"}\n      cancelText={\"取消\"}\n      confirmLoading={edieLoading}\n      onCancel={onClose}\n      onOk={onOk}\n    >\n      <Form initialValues={editingTask} form={form} {...formItemLayout}>\n        <Form.Item\n          label={\"任务名\"}\n          name={\"name\"}\n          rules={[{ required: true, message: \"请输入任务名\" }]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item label={\"经办人\"} name={\"processorId\"}>\n          <IdSelect defaultOptionName={\"经办人\"} options={users || []} />\n        </Form.Item>\n\n        <Form.Item label={\"类型\"} name={\"typeId\"}>\n          <IdSelect defaultOptionName={\"类型\"} options={taskTypes || []} />\n        </Form.Item>\n\n        <Row justify={\"end\"} align={\"middle\"}>\n          <Button type={\"link\"} danger onClick={handleDelete}>\n            删除\n          </Button>\n        </Row>\n      </Form>\n    </Modal>\n  );\n};\n","import React, { useCallback } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { useBoards, useReorderBoard } from \"api/board\";\nimport { FullPageLoading, ScreenContainer } from \"components/lib\";\nimport { useLocation, useParams } from \"react-router\";\nimport { useDocumentTitle } from \"utils/custom-hook\";\nimport { BoardColumn } from \"./board-column\";\nimport { SearchPanel } from \"./search-panel\";\nimport {\n  useBoardQueryKey,\n  useBoardSearchParams,\n  useProjectInUrl,\n  useTasksQueryKey,\n  useTasksSearchParams,\n} from \"./util\";\nimport { useReorderTask, useTasks } from \"api/task\";\nimport { CreateBoard } from \"./create-board\";\nimport { TaskModal } from \"./task-modal\";\nimport {\n  DragDropContext,\n  DropResult,\n  /* Droppable,\n  Draggable */\n} from \"react-beautiful-dnd\";\nimport { Drag, Drop, DropChild } from \"components/drag-and-drop\";\n\nexport const BoardScreen = () => {\n  useDocumentTitle(\"看板列表\");\n  const { data: currentProject } = useProjectInUrl();\n  const { data: boards, isLoading: boardIsLoading } = useBoards(\n    useBoardSearchParams()\n  );\n  const { isLoading: taskIsLoading } = useTasks(useTasksSearchParams());\n  const isLoading = boardIsLoading || taskIsLoading;\n  const dragEnd = useDragEnd();\n\n  return (\n    <ScreenContainer>\n      <DragDropContext onDragEnd={dragEnd}>\n        <h1>{currentProject?.name}看板</h1>\n        <SearchPanel />\n        {isLoading ? (\n          <FullPageLoading />\n        ) : (\n          /* 不使用封装好的组件实现 */\n          <ColumnsContaier>\n            {/* <Droppable droppableId={\"board\"} type={\"COLUMN\"} direction={\"horizontal\"}>\n              {\n                provided => (\n                  <div style={{ display: \"flex\" }} ref={provided.innerRef} {...provided.droppableProps}>\n                    {\n                      boards?.map((item, index) => {\n                        return (\n                          <Draggable draggableId={\"board\" + index} index={index} key={index}>\n                            {\n                              provided => (\n                                <BoardColumn ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} board={item} key={item.id} />\n                              )\n                            }\n                          </Draggable>\n                        )\n                      })\n                    }\n                  </div>\n                )\n              }\n            </Droppable>\n            <CreateBoard /> */}\n            <Drop\n              type={\"COLUMN\"}\n              direction={\"horizontal\"}\n              droppableId={\"board\"}\n            >\n              <DropChild style={{ display: \"flex\" }}>\n                {boards?.map((board, index) => {\n                  return (\n                    <Drag\n                      draggableId={\"board\" + board.id}\n                      index={index}\n                      key={board.id}\n                    >\n                      <BoardColumn board={board} key={board.id} />\n                    </Drag>\n                  );\n                })}\n              </DropChild>\n            </Drop>\n            <CreateBoard />\n          </ColumnsContaier>\n        )}\n        <TaskModal />\n      </DragDropContext>\n    </ScreenContainer>\n  );\n};\n\n/* 拖拽完成 */\nconst useDragEnd = () => {\n  const { data: boards } = useBoards(useBoardSearchParams());\n  const { data: allTasks = [] } = useTasks(useTasksSearchParams());\n  const { mutate: reorderBoard } = useReorderBoard(useBoardQueryKey());\n  const { mutate: reorderTask } = useReorderTask(useTasksQueryKey());\n\n  return useCallback(\n    ({ source, destination, type }: DropResult) => {\n      console.log({ source, destination, type });\n      if (!destination) return;\n\n      // 看板排序\n      if (type === \"COLUMN\") {\n        const fromId = boards?.[source.index].id;\n        const toId = boards?.[destination.index].id;\n\n        if (!fromId || !toId || fromId === toId) return;\n\n        const type = destination.index > source.index ? \"after\" : \"before\";\n        reorderBoard({ fromId, referenceId: toId, type });\n      }\n\n      // 任务排序\n      if (type === \"ROW\") {\n        const formBoardId = +source.droppableId;\n        const toBoardId = +destination.droppableId;\n\n        const formTask = allTasks?.filter(\n          (item) => item.kanbanId === formBoardId\n        )[source.index];\n        const toTask = allTasks?.filter((item) => item.kanbanId === toBoardId)[\n          destination.index\n        ];\n\n        // 无位移\n        if (formTask?.id === toTask?.id) return;\n\n        const type =\n          formBoardId === toBoardId && destination.index > source.index\n            ? \"after\"\n            : \"before\";\n        reorderTask({\n          fromId: formTask?.id,\n          referenceId: toTask?.id,\n          fromKanbanId: Number(formBoardId),\n          toKanbanId: Number(toBoardId),\n          type: type,\n        });\n      }\n    },\n    [boards, allTasks, reorderBoard, reorderTask]\n  );\n};\n\nconst ColumnsContaier = styled.div`\n  flex: 1;\n  display: flex;\n  overflow: auto;\n  margin-right: 2rem;\n`;\n","import { useProjectIdInUrl } from \"screens/board/util\";\n\nexport const useEpicsSearchParams = () => ({ projectId: useProjectIdInUrl() });\n\n/* 传递给 react-query 的 query 参数 */\nexport const useEpicsQueryKey = () => [\"epics\", useEpicsSearchParams()];\n","import React, { useEffect } from \"react\";\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\nimport { DrawerProps } from \"antd/es/drawer\";\nimport styled from \"@emotion/styled\";\nimport { ErrorBox } from \"components/lib\";\nimport { useAddEpic } from \"api/epic\";\nimport { useEpicsQueryKey } from \"screens/epic/util\";\nimport { useProjectIdInUrl } from \"screens/board/util\";\n\nexport const CreateEpic = (\n  props: Pick<DrawerProps, \"visible\"> & { onClose: () => void }\n) => {\n  const { mutate: addEpic, isLoading, error } = useAddEpic(useEpicsQueryKey());\n  const [form] = Form.useForm();\n  const projectId = useProjectIdInUrl();\n\n  const onFinish = async (values: any) => {\n    await addEpic({ ...values, projectId });\n    props.onClose();\n  };\n\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible]);\n\n  return (\n    <Drawer\n      visible={props.visible}\n      onClose={props.onClose}\n      forceRender={true}\n      destroyOnClose={true}\n      width={\"100%\"}\n    >\n      <Container>\n        {isLoading ? (\n          <Spin size={\"large\"} />\n        ) : (\n          <>\n            <h1>创建任务组</h1>\n            <ErrorBox error={error} />\n            <Form\n              form={form}\n              layout={\"vertical\"}\n              style={{ width: \"40rem\" }}\n              onFinish={onFinish}\n            >\n              <Form.Item\n                label={\"名称\"}\n                name={\"name\"}\n                rules={[{ required: true, message: \"请输入任务组名\" }]}\n              >\n                <Input placeholder={\"请输入任务组名称\"} />\n              </Form.Item>\n\n              <Form.Item style={{ textAlign: \"right\" }}>\n                <Button\n                  loading={isLoading}\n                  type={\"primary\"}\n                  htmlType={\"submit\"}\n                >\n                  提交\n                </Button>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\n\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import { useHttp } from \"plugins/request\";\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\nimport { Epic } from \"types/epic\";\nimport { cleanObject } from \"utils\";\nimport { useAddConfig, useDeleteConfig } from \"utils/use-optimistic-option\";\n\n/* 任务组列表 */\nexport const useEpics = (param?: Partial<Epic>) => {\n  const http = useHttp();\n\n  return useQuery<Epic[]>([\"epics\", cleanObject(param)], () =>\n    http(\"epics\", { data: param })\n  );\n};\n\n/* 添加任务组 */\nexport const useAddEpic = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation((params: Partial<Epic>) => {\n    return http(\"epics\", { data: params, method: \"POST\" });\n  }, useAddConfig(queryKey));\n};\n\n/* 删除任务组 */\nexport const useDeleteEpic = (queryKey: QueryKey) => {\n  const http = useHttp();\n  return useMutation(({ id }: { id: number }) => {\n    return http(`epics/${id}`, { method: \"DELETE\" });\n  }, useDeleteConfig(queryKey));\n};\n","import React, { useState } from \"react\";\nimport dayjs from \"dayjs\";\nimport { useDeleteEpic, useEpics } from \"api/epic\";\nimport { useTasks } from \"api/task\";\nimport { useEpicsQueryKey, useEpicsSearchParams } from \"./util\";\nimport { useProjectInUrl } from \"screens/board/util\";\nimport { useDocumentTitle } from \"utils/custom-hook\";\nimport { Button, List, Modal } from \"antd\";\nimport { Row, ScreenContainer } from \"components/lib\";\nimport { Link } from \"react-router-dom\";\nimport { CreateEpic } from \"./create-epic\";\nimport { Epic } from \"types/epic\";\n\nexport const EpicScreen = () => {\n  useDocumentTitle(\"任务组\");\n  const { data: currentProject } = useProjectInUrl();\n  const { data: epics } = useEpics(useEpicsSearchParams());\n  const { data: tasks } = useTasks({ projectId: currentProject?.id });\n  const { mutateAsync: deleteEpic } = useDeleteEpic(useEpicsQueryKey());\n  const [epicCreateOpen, setEpicCreateOpen] = useState(false);\n\n  const confirmDeleteEpic = (epic: Epic) => {\n    Modal.confirm({\n      title: `确定删除${epic.name}项目组`,\n      okText: \"确定\",\n      onOk() {\n        deleteEpic({ id: epic.id });\n      },\n    });\n  };\n\n  return (\n    <ScreenContainer>\n      <Row between>\n        <h1>{currentProject?.name}任务组</h1>\n        <Button type={\"link\"} onClick={() => setEpicCreateOpen(true)}>\n          新建任务组\n        </Button>\n      </Row>\n      <List\n        style={{ overflow: \"auto\" }}\n        dataSource={epics}\n        itemLayout={\"vertical\"}\n        renderItem={(epic) => (\n          <List.Item>\n            <List.Item.Meta\n              title={\n                <Row between>\n                  <span>{epic.name}</span>\n                  <Button\n                    danger\n                    type={\"link\"}\n                    onClick={() => confirmDeleteEpic(epic)}\n                  >\n                    删除\n                  </Button>\n                </Row>\n              }\n              description={\n                <div>\n                  <div>开始时间：{dayjs(epic.start).format(\"YYYY-MM-DD\")}</div>\n                  <div>结束时间：{dayjs(epic.end).format(\"YYYY-MM-DD\")}</div>\n                </div>\n              }\n            />\n\n            <div>\n              {tasks\n                ?.filter((task) => task.epicId === epic.id)\n                .map((task) => (\n                  <Link\n                    to={`/projects/${currentProject?.id}/board?editingTaskId=${task.id}`}\n                    key={task.id}\n                  >\n                    {task.name}\n                  </Link>\n                ))}\n            </div>\n          </List.Item>\n        )}\n      ></List>\n\n      <CreateEpic\n        visible={epicCreateOpen}\n        onClose={() => setEpicCreateOpen(false)}\n      />\n    </ScreenContainer>\n  );\n};\n","import React from \"react\";\nimport { Navigate, Routes, Route, useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { BoardScreen } from \"screens/board\";\nimport { EpicScreen } from \"screens/epic\";\nimport { useUrlQueryParam } from \"utils/custom-hook\";\nimport styled from \"@emotion/styled\";\nimport { Menu } from \"antd\";\n\nconst useCurrentRoute = () => {\n  const units = useLocation().pathname.split(\"/\");\n\n  return units[units.length - 1];\n};\n\nexport const ProjectScreen = () => {\n  const route = useCurrentRoute();\n\n  useUrlQueryParam([\"name\"]);\n  return (\n    <Container>\n      <Aside>\n        <Menu mode={\"inline\"} selectedKeys={[route]}>\n          <Menu.Item key={\"board\"}>\n            <Link to=\"board\">看板</Link>\n          </Menu.Item>\n          <Menu.Item key={\"epic\"}>\n            <Link to=\"epic\">任务</Link>\n          </Menu.Item>\n        </Menu>\n      </Aside>\n\n      <Main>\n        <Routes>\n          <Navigate to=\"board\" replace={true} />\n          <Route path=\"/board\" element={<BoardScreen />}></Route>\n          <Route path=\"/epic\" element={<EpicScreen />}></Route>\n        </Routes>\n      </Main>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 16rem 1fr;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst Aside = styled.div`\n  background-color: rgb(250, 250, 250);\n  display: flex;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  box-shadow: -5px 0 5px -5px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n`;\n","import React, { useEffect } from \"react\";\nimport { Drawer, Spin, Form, Input, Button } from \"antd\";\nimport { useProjectModal } from \"utils/project\";\nimport { IdSelect } from \"components/id-select\";\nimport { useUser } from \"api/user\";\nimport { useAddProject, useEditProject } from \"api/project\";\nimport { ErrorBox } from \"components/lib\";\nimport styled from \"@emotion/styled\";\nimport { useProjectsQueryKey } from \"./utils\";\n\nconst formItemLayout = {\n  // labelCol: { span: 6 },\n  // wrapperCol: { span: 14 },\n};\n\nexport const ProjectModal = () => {\n  const { data: users } = useUser();\n  const { projectModalOpen, editingProject, isLoading, close } =\n    useProjectModal();\n  const useMutateProject = editingProject ? useEditProject : useAddProject;\n\n  const [form] = Form.useForm();\n  const {\n    mutateAsync,\n    error,\n    isLoading: mutateLoading,\n  } = useMutateProject(useProjectsQueryKey());\n  const onFinish = (values: {\n    name: string;\n    organization: string;\n    personId: number;\n  }) => {\n    /* 传入old and new data，新数据覆盖旧数据 */\n    mutateAsync({ ...editingProject, ...values }).then(() => {\n      form.resetFields();\n      close();\n    });\n  };\n\n  /* 设置默认值 (只有在编辑时), 卸载组件则重置表单 */\n  useEffect(() => {\n    form.setFieldsValue(editingProject);\n    return form.resetFields;\n  }, [editingProject, form]);\n\n  const title = editingProject ? \"编辑项目\" : \"创建项目\";\n\n  return (\n    <Drawer forceRender visible={projectModalOpen} onClose={close} width=\"100%\">\n      <Container>\n        {isLoading ? (\n          <Spin size={\"large\"} />\n        ) : (\n          <>\n            <h1>{title}</h1>\n            {error ? <ErrorBox error={error} /> : null}\n            <Form\n              form={form}\n              layout={\"vertical\"}\n              onFinish={onFinish}\n              style={{ width: \"40rem\" }}\n            >\n              <Form.Item\n                label={\"名称\"}\n                name={\"name\"}\n                rules={[{ required: true, message: \"请输入项目名称\" }]}\n                {...formItemLayout}\n              >\n                <Input placeholder={\"请输入项目名称\"} />\n              </Form.Item>\n\n              <Form.Item\n                label={\"部门\"}\n                name={\"organization\"}\n                rules={[{ required: true, message: \"请输入部门名称\" }]}\n                {...formItemLayout}\n              >\n                <Input placeholder={\"请输入部门名称\"} />\n              </Form.Item>\n\n              <Form.Item label={\"负责人\"} name={\"personId\"} {...formItemLayout}>\n                <IdSelect defaultOptionName={\"负责人\"} options={users || []} />\n              </Form.Item>\n\n              <BtnFormItem>\n                <Button\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                  loading={mutateLoading}\n                  disabled={mutateLoading}\n                >\n                  提交\n                </Button>\n              </BtnFormItem>\n            </Form>\n          </>\n        )}\n      </Container>\n    </Drawer>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  height: 80vh;\n`;\n\nconst BtnFormItem = styled(Form.Item)`\n  text-align: right;\n`;\n","import React from \"react\";\nimport { Popover, Typography, List, Divider } from \"antd\";\nimport { useProjects } from \"api/project\";\nimport styled from \"@emotion/styled\";\nimport { ButtonNoPadding } from \"./lib\";\nimport { useProjectModal } from \"utils/project\";\n\n/**\n * header \"项目\" pop over\n */\nexport const ProjectPopover = () => {\n  const { data: projects, refetch } = useProjects();\n  const { open } = useProjectModal();\n\n  const Content = (\n    <ContentContaier>\n      <Typography.Text type={\"secondary\"}>收藏项目</Typography.Text>\n      <List>\n        {projects\n          ?.filter((item) => item.pin)\n          .map((item) => (\n            <List.Item>\n              <List.Item.Meta title={item.name} />\n            </List.Item>\n          ))}\n      </List>\n      <Divider />\n      <ButtonNoPadding type={\"link\"} onClick={open}>\n        创建项目\n      </ButtonNoPadding>\n    </ContentContaier>\n  );\n\n  return (\n    <Popover\n      placement={\"bottom\"}\n      content={Content}\n      onVisibleChange={() => refetch}\n    >\n      <span>项目</span>\n    </Popover>\n  );\n};\n\nconst ContentContaier = styled.div`\n  min-width: 24rem;\n`;\n","import React from \"react\";\nimport { Divider, List, Popover, Typography } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport { useUser } from \"api/user\";\n\nexport const UserPopover = () => {\n  const { data: users, refetch } = useUser();\n\n  const content = (\n    <ContentContainer>\n      <Typography.Text type={\"secondary\"}>组员列表</Typography.Text>\n      <List>\n        {users?.map((user) => (\n          <List.Item key={user.id}>\n            <List.Item.Meta title={user.name} />\n          </List.Item>\n        ))}\n      </List>\n    </ContentContainer>\n  );\n\n  return (\n    <Popover\n      onVisibleChange={() => refetch()}\n      placement={\"bottom\"}\n      content={content}\n    >\n      <span>组员</span>\n    </Popover>\n  );\n};\n\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`;\n","import React, { useState } from \"react\";\nimport { ButtonNoPadding, Row } from \"components/lib\";\nimport { ProjectList } from \"screens/project-list\";\nimport { useAuth } from \"context/auth-context\";\nimport { Button, Dropdown, Menu } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport { ReactComponent as SoftwareLogo } from \"assets/software-logo.svg\";\nimport { Navigate, Routes, Route } from \"react-router\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { ProjectScreen } from \"screens/project\";\nimport { resetRoute } from \"utils\";\nimport { ProjectModal } from \"screens/project-list/project-modal\";\nimport { ProjectPopover } from \"components/project-popover\";\nimport { UserPopover } from \"components/user-popover\";\n\nexport const AuthenticatedApp = () => {\n  return (\n    <Container>\n      <Router>\n        <Header />\n        <Main>\n          <Routes>\n            <Navigate to={\"/projects\"} />\n            <Route path={\"/projects\"} element={<ProjectList />} />\n            <Route path={\"/projects/:id/*\"} element={<ProjectScreen />} />\n          </Routes>\n        </Main>\n        <ProjectModal />\n      </Router>\n    </Container>\n  );\n};\n\nconst Header = () => {\n  return (\n    <PageHeader between={true}>\n      <HeaderLeft gap={true}>\n        <ButtonNoPadding type=\"link\" onClick={resetRoute}>\n          <SoftwareLogo width=\"15rem\" height=\"auto\" />\n        </ButtonNoPadding>\n        <ProjectPopover />\n        <UserPopover />\n      </HeaderLeft>\n      <HeaderRight>\n        <User />\n      </HeaderRight>\n    </PageHeader>\n  );\n};\n\nconst User = () => {\n  const { user, logout } = useAuth();\n\n  return (\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item key=\"logout\">\n            <Button type=\"link\" onClick={() => logout()}>\n              登出\n            </Button>\n          </Menu.Item>\n        </Menu>\n      }\n    >\n      <Button type=\"link\">Hi, {user?.name}</Button>\n    </Dropdown>\n  );\n};\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-rows: 6rem calc(100vh - 6rem);\n  height: 100%;\n`;\n\nconst PageHeader = styled(Row)`\n  z-index: 1;\n  padding: 3.2rem;\n  height: 6rem;\n  background-color: white;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\n`;\n\nconst HeaderLeft = styled(Row)``;\n\nconst HeaderRight = styled.div``;\n\nconst Main = styled.main`\n  height: calc(100vh - 6rem);\n  display: flex;\n  overflow: hidden;\n`;\n","/* 错误边界 */\r\nimport React from \"react\";\r\n\r\ntype FallBackRender = (props: { error: Error | null }) => React.ReactElement;\r\n\r\nexport class ErrorBoundary extends React.Component<\r\n  React.PropsWithChildren<{ fallbackRender: FallBackRender }>,\r\n  { error: Error | null }\r\n> {\r\n  state = { error: null };\r\n\r\n  /** 子组件抛出异常, getDerivedStateFromError接受异常并调用\r\n   * 返回值会赋值给state\r\n   */\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { error };\r\n  }\r\n\r\n  render() {\r\n    const { error } = this.state;\r\n    const { fallbackRender, children } = this.props;\r\n    if (error) return fallbackRender({ error });\r\n    return children;\r\n  }\r\n}\r\n","import \"./App.css\";\r\nimport { UnauthenticatedApp } from \"unauthenticated-app\";\r\nimport { AuthenticatedApp } from \"authenticated-app\";\r\nimport { useAuth } from \"context/auth-context\";\r\nimport { ErrorBoundary } from \"components/error-boundary\";\r\nimport { FullPageError } from \"components/lib\";\r\n\r\nfunction App() {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ErrorBoundary fallbackRender={FullPageError}>\r\n        {user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\r\n      </ErrorBoundary>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ReactNode } from \"react\";\nimport { AuthProvider } from \"context/auth-context\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nexport const AppProvider = ({ children }: { children: ReactNode }) => {\n  const queryClient = new QueryClient({\n    defaultOptions: {\n      queries: {\n        refetchOnWindowFocus: false,\n      },\n    },\n  });\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>{children}</AuthProvider>\n    </QueryClientProvider>\n  );\n};\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { loadServer, DevTools } from \"jira-dev-tool\";\r\nimport \"antd/dist/antd.less\";\r\nimport { AppProvider } from \"context\";\r\n\r\nloadServer(() => {\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <AppProvider>\r\n        <DevTools />\r\n        <App />\r\n      </AppProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n  );\r\n});\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}