(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-931ece52"],{"0738":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return o}));var _=a("b775"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_["e"])("/api/sys/log/page",_["a"].GET,e)},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_["e"])("/api/persistence/mobile-operator-log/page",_["a"].GET,e)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_["e"])("/api/persistence/platform-operator-log/page",_["a"].GET,e)}},"0bce":function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var _=a("1da1"),r=(a("96cf"),a("b775")),n=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["e"])("/api/sim/mobile-operator/list",r["a"].GET,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t["a"]={getServiceProviderList:n}},3521:function(e,t,a){"use strict";var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[e.selectedRows?a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[e._v(" 已选择 "),a("a",[e._v(e._s(e.selectedRows.length))]),e._v(" 项 "),a("a",{staticClass:"clear",on:{click:e.onClear}},[e._v("清空")]),e._l(e.needTotalList,(function(t,_){return[t.needTotal?a("div",{key:_},[e._v(" "+e._s(t.title)+"总计  "),a("a",[e._v(e._s(t.customRender?t.customRender(t.total):t.total))])]):e._e()]}))],2)]):e._e()],1),a("a-table",{attrs:{bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowKey:e.rowKey,pagination:e.transPagination,expandedRowKeys:e.expandedRowKeys,expandedRowRender:e.expandedRowRender,defaultExpandAllRows:e.defaultExpandAllRows,rowSelection:e.selectedRows?{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}:void 0},on:{change:e.onChange},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots).filter((function(e){return"expandedRowRender"!==e})),(function(t){return{key:t,fn:function(a,_,r){return[e._t(t,null,null,{text:a,record:_,index:r})]}}})),{key:e.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(t,a,_,r){return[e._t(e.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:t,index:a,indent:_,expanded:r})]}}],null,!0)},[e._l(Object.keys(e.$slots),(function(t){return a("template",{slot:t},[e._t(t)],2)}))],2)],1)},r=[],n=a("c1f7"),o=n["a"],s=(a("e34d"),a("2877")),i=Object(s["a"])(o,_,r,!1,null,"6857f466",null);t["a"]=i.exports},"78bd":function(e,t,a){"use strict";a("ad7d")},"7ba5":function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return r}));var _=[{type:"user",desc:"用户管理",value:0},{type:"role",desc:"角色管理",value:1},{type:"dep",desc:"部门管理",value:2},{type:"post",desc:"职位管理",value:3},{type:"auth",desc:"权限管理",value:4},{type:"log",desc:"日志管理",value:5},{type:"config",desc:"配置管理",value:6},{type:"platform",desc:"第三方平台",value:7},{type:"sim",desc:"SIM卡管理",value:8},{type:"platform_interface",desc:"平台接口",value:9},{type:"home",desc:"主页管理",value:10}],r=[{desc:"所有",value:""},{desc:"新增",value:1},{desc:"修改",value:2},{desc:"删除",value:3},{desc:"授权",value:4},{desc:"上传",value:5},{desc:"导入",value:6},{desc:"导出",value:7},{desc:"清空数据",value:8},{desc:"其他",value:0}]},"9b27":function(e,t,a){},ad7d:function(e,t,a){},afef:function(e,t,a){"use strict";a.r(t);var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Query",{on:{query:e.query}}),a("a-divider"),a("List",{attrs:{loading:e.loading,list:e.list}})],1)},r=[],n=a("5530"),o=a("1da1"),s=(a("96cf"),a("9129"),a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",[a("a-form-model",{ref:"form",attrs:{model:e.form,layout:"horizontal"}},[a("a-row",[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"ICCID",prop:"iccid",labelCol:{span:7},wrapperCol:{span:16,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入ICCID"},model:{value:e.form.iccid,callback:function(t){e.$set(e.form,"iccid",t)},expression:"form.iccid"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-model-item",{attrs:{label:"运营商",prop:"mobileOperatorCode",labelCol:{span:7},wrapperCol:{span:16,offset:1}}},[a("mobile-select",{model:{value:e.form.mobileOperatorCode,callback:function(t){e.$set(e.form,"mobileOperatorCode",t)},expression:"form.mobileOperatorCode"}})],1)],1),a("a-col",{attrs:{md:4,sm:24,offset:1}},[a("a-space",{staticStyle:{"margin-top":"3px"},attrs:{align:"baseline",size:"middle"}},[a("a-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")]),a("a-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1)}),i=[],l=(a("ac1f"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",placeholder:"运营商"},model:{value:e.mobileOperatorId,callback:function(t){e.mobileOperatorId=t},expression:"mobileOperatorId"}},e._l(e.mobileOperator,(function(t){return a("a-select-option",{key:t.code,attrs:{value:t.mobileOperatorId}},[e._v(" "+e._s(t.name)+" ")])})),1)}),c=[],u=a("0bce"),d={name:"mobile-select",props:{value:{type:[String,Number],default:""}},watch:{value:{handler:function(e){e!==this.mobileOperatorId&&(this.mobileOperatorId=e)},immediate:!0},mobileOperatorId:function(e){this.$emit("input",e)}},data:function(){return{mobileOperatorId:"",mobileOperator:[]}},created:function(){this.getServiceProviderList()},methods:{getServiceProviderList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,_;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["b"])();case 3:a=t.sent,_=a.data,200===_.code&&(e.mobileOperator=(null===_||void 0===_?void 0:_.data)||[]),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},p=d,m=a("2877"),b=Object(m["a"])(p,l,c,!1,null,null,null),f=b.exports,v={components:{MobileSelect:f},data:function(){return{form:{iccid:"",mobileOperatorCode:""}}},watch:{"$route.query":{handler:function(e){var t=this;e&&this.$nextTick((function(){(e.mobileOperatorCode||0===e.mobileOperatorCode)&&(t.form.mobileOperatorCode=+e.mobileOperatorCode)}))},deep:!0,immediate:!0}},methods:{setQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$router.replace(Object(n["a"])(Object(n["a"])({},this.$route),{},{query:Object(n["a"])(Object(n["a"])(Object(n["a"])({},this.$route.query),this.form),e)}))},query:function(){this.setQuery({page:1}),this.$emit("query")},reset:function(){this.$refs.form.resetFields()}}},h=v,O=Object(m["a"])(h,s,i,!1,null,null,null),y=O.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("standard-table",{attrs:{columns:e.columns,loading:e.loading,dataSource:e.list,pagination:e.pagination,"row-key":"iccid"},scopedSlots:e._u([{key:"type",fn:function(t){var _=t.record;return[a("span",[e._v(" "+e._s(e._f("type")(_.type))+" ")])]}},{key:"status",fn:function(t){var _=t.record;return[a("span",{class:_.status?"success":"fail"},[e._v(" "+e._s(e._f("status")(_.status))+" ")])]}}])})],1)},E=[],j=(a("7db0"),a("d3b7"),a("3521")),w=a("7ba5"),R=[{title:"ICCID",dataIndex:"iccid"},{title:"参数",dataIndex:"params"},{title:"运营商",dataIndex:"mobileOperatorCode"},{title:"操作类型",scopedSlots:{customRender:"type"}},{title:"结果",scopedSlots:{customRender:"status"}},{title:" ",dataIndex:"msg"}],D={components:{StandardTable:j["a"]},props:{pagination:{type:Object,default:function(){return{}}},list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},total:{type:Number,default:0}},data:function(){return{columns:R}},watch:{"$route.query":{handler:function(e){this.pagination.total=Number.isNaN(+e.total)?0:+e.total,this.pagination.current=Number.isNaN(+e.current)?0:+e.current,this.pagination.pageSize=Number.isNaN(+e.pageSize)?0:+e.pageSize},immediate:!0}},filters:{type:function(e){var t=w["a"].find((function(t){return t.value===e}));return(null===t||void 0===t?void 0:t.desc)||"未知操作"},status:function(e){return!1===e?"失败":!0===e?"成功":"未知"},operatorType:function(e){return 1===e?"后台用户":2===e?"手机端用户":"其他"}}},P=D,C=(a("78bd"),Object(m["a"])(P,g,E,!1,null,"c59a8e5e",null)),M=C.exports,k=a("0738"),x=a("2ef0"),I=a.n(x),T={name:"white-list-log",components:{Query:y,List:M},data:function(){return{loading:!1,list:[],total:0,queryParams:{page:1,size:10}}},watch:{"$route.query":{handler:function(e){this.queryParams=this.handleQuery(e),this.query()},immediate:!0}},methods:{handleQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.page=Number.isNaN(+e.page)?1:+e.page,e.size=Number.isNaN(+e.size)?10:+e.size,e},query:I.a.debounce(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,_,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:this.queryParams,this.loading=!0,e.prev=2,e.next=5,Object(k["c"])(Object(n["a"])({},t));case 5:_=e.sent,r=_.data,200===r.code&&(this.list=(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.record)||[]),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:this.loading=!1;case 13:case"end":return e.stop()}}),e,this,[[2,10]])}))),150)}},S=T,K=Object(m["a"])(S,_,r,!1,null,null,null);t["default"]=K.exports},c1f7:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5530"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);__webpack_exports__["a"]={name:"StandardTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,defaultExpandAllRows:Boolean,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{setQuery:function(e){this.$router.replace(Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},this.$route),{},{query:Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},this.$route.query),e)}))},updateSelect:function(e,t){this.$emit("update:selectedRows",t),this.$emit("selectedRowChange",e,t)},initTotalList:function(e){var t=e.filter((function(e){return e.needTotal})).map((function(e){return Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},e),{},{total:0})}));return t},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(e,t,a,_){var r=_.currentDataSource,n=e.current,o=e.pageSize;this.setQuery({page:n,size:o}),this.$emit("change",e,t,a,{currentDataSource:r})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function selectedRows(_selectedRows){this.needTotalList=this.needTotalList.map((function(item){return Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},item),{},{total:_selectedRows.reduce((function(sum,val){var v;try{v=val[item.dataIndex]?val[item.dataIndex]:eval("val.".concat(item.dataIndex))}catch(_){v=val[item.dataIndex]}return v=isNaN(parseFloat(v))?0:parseFloat(v),sum+v}),0)})}))}},computed:{selectedRowKeys:function(){var e=this;return this.selectedRows.map((function(t){return"function"===typeof e.rowKey?e.rowKey(t):t[e.rowKey]}))},transPagination:function(){if("boolean"===typeof this.pagination)return this.pagination;if("object"===Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__["a"])(this.pagination)){var e=Object(D_develop_outer_pack_item_sim_manage_by_antd_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({current:+this.pagination.page||1,pageSize:+this.pagination.size||10},this.pagination);return delete e.page,delete e.size,e}return{}}}}},e34d:function(e,t,a){"use strict";a("9b27")}}]);